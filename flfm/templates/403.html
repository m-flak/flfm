{% extends "shell_like.html" %}

{% block title %}403 Forbidden{% endblock %}

{% block location %}Forbidden{% endblock %}

{% block navbar -%}
    {# NO USER BAR FOR ERROR PAGES #}
{%- endblock %}

{% block commands -%}
    <li>
        <a id="buttonUp" class="btn btn-primary" href="#" role="button" title="Go Up...">
            &#x2191;
        </a>
    </li>
    <li>
        <a id="buttonRoot" class="btn btn-primary" href="#" role="button" title="Return to Root...">
            &#x2020;
        </a>
    </li>
{%- endblock %}

{% block contents -%}
    <p class="nothing-here">You are not authorized to view this location.</p>
{%- endblock %}

{% block scripts -%}
{{ super() }}
<script type="text/javascript">
    /*<![CDATA[*/
    $("a#buttonUp").on("click", function() {
        var new_url = window.location.href.replace(/(?!\/shell)\/\w+(?:[%1-9]*\w*)*#?$/, '');
        document.location.assign(new_url);
    });
    $("a#buttonRoot").on("click", function() {
        let whl = window.location.href;
        const shellfrag = '/shell';
        var new_url = whl.slice(0, whl.indexOf(shellfrag)+shellfrag.length);
        document.location.assign(new_url);
    });
    //]]>
</script>
{%- endblock %}
